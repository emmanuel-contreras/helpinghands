<!--
  Generated template for the SearchPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Search</ion-title>
  </ion-navbar>
  <ion-row>
      <ion-searchbar (ionInput)="getItems($event)"></ion-searchbar>
  </ion-row>

  <ion-row>
    <ion-col>
  <ion-toolbar no-border-top style="background-color:white;">
      <ion-segment [(ngModel)]="SearchResult">
        <ion-segment-button selected value="User">
          Search Users
        </ion-segment-button>
        <ion-segment-button value="Task">
          Search Tasks
        </ion-segment-button>
      </ion-segment>
    </ion-toolbar>
  </ion-col>

  </ion-row>

</ion-header>


<ion-content padding>

    <div [ngSwitch]="SearchResult">

        <ion-list *ngSwitchCase="'User'">
          <ion-item-sliding *ngFor="let item of items" (click) = 'userClicked(item.userId)'>
          <ion-item>
              <ion-thumbnail item-start>
                  <img [src]="item.photoUrl" onerror="this.src='assets/icon/logo-login.png'">
              </ion-thumbnail>
          <h2>{{item.firstName}} {{ item.lastName }}</h2>
          <p>{{item.skillset}}</p>
          </ion-item>
          <ion-item-options side="right">
            <button ion-button (click)="messegeUser(item)">Messege</button>
            <button ion-button color="secondary" (click)="viewProfile(item)">View Profile</button>
          </ion-item-options>
        </ion-item-sliding>
        </ion-list>

      <ion-list *ngSwitchCase="'Task'">
        <ion-item-sliding  *ngFor="let task of resultTasks" (click)='taskClicked(task)'>

        <button ion-item>
          <h2>{{task.taskName}}</h2>
          <p>{{task.skillset}}</p>
        </button>
          <ion-item-options side="right">
            <button ion-button (click)="requestTask(task)">Request Task</button>
            <button ion-button color="secondary" (click)="viewDtail(task)">View Detail</button>
          </ion-item-options>
        </ion-item-sliding>
      </ion-list>




    </div>


</ion-content>
